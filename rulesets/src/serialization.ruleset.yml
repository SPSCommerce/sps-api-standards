documentationUrl: https://spscommerce.github.io/sps-api-standards/standards/serialization.html
rules:
  request-support-json:
    description: Every request SHOULD support `application/json` media type
    formats: [oas3]
    severity: error
    message: "{{description}}: {{error}}"
    given: $.paths.[*].requestBody.content[?(@property.indexOf('json') === -1)]^
    then:
      function: falsy